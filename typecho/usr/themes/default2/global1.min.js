$(document).ready((function(){function setBackToTop(){var $a=$(".back-to-top");function setBtn(){$(window).scrollTop()>100?$a.css({right:"20px"}):$a.css({right:"-80px"})}setBtn(),$(window).scroll(setBtn),$a.click((function(){$("body,html").animate({scrollTop:0})}))}function setRightToc(){$(".sticky>ul>li").addClass("level1");var headings=$("[name^=index-]"),rightTocLinks=$("[data-href^='#index-']"),timer=null;function setTocShow(){var toc=$(".sticky>.widget-list");localStorage.getItem("LijqBlogToc")&&toc.addClass("active"),$(".sticky>.widget-title").on("click",(function(){toc.hasClass("active")?(toc.removeClass("active"),localStorage.setItem("LijqBlogToc","")):(toc.addClass("active"),localStorage.setItem("LijqBlogToc","1"))}))}function setTocHighlight(){var Top=$(window).scrollTop();headings.each((function(i){var parent,curLi;Top>=$(this).offset().top-10&&(rightTocLinks.parent().removeClass("active"),(curLi=rightTocLinks.eq(i).parent()).addClass("active"),(parent=curLi.hasClass("level1")?curLi:curLi.parents(".level1")).get(0).scrollIntoView())}))}setTocShow(),setTocHighlight(),rightTocLinks.click((function(e){e.preventDefault();var index=rightTocLinks.index($(this)),_top=headings.eq(index).offset().top;$("html,body").animate({scrollTop:_top},200)})),$(window).scroll((function(){clearTimeout(timer),timer=setTimeout(()=>{setTocHighlight()},50)}))}$(".fancybox").fancybox(),setBackToTop(),setRightToc()}));
